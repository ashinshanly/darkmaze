<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description"
        content="Invisible Maze â€” Navigate through absence made visible. An interactive visual art experience.">
    <meta name="theme-color" content="#0a0a1a">
    <title>Invisible Maze</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <canvas id="gameCanvas"></canvas>

    <!-- Overlay for distortion effects -->
    <div id="effectsOverlay"></div>

    <!-- Live HUD - minimal floating stats -->
    <div id="hud">
        <div class="hud-item">
            <span class="hud-value" id="hudMoves">0</span>
            <span class="hud-label">moves</span>
        </div>
        <div class="hud-divider"></div>
        <div class="hud-item">
            <span class="hud-value" id="hudTime">3:00</span>
            <span class="hud-label">remaining</span>
        </div>
        <div class="hud-divider"></div>
        <div class="hud-item energy-item">
            <div class="energy-bar">
                <div class="energy-fill" id="energyFill"></div>
            </div>
            <span class="hud-label">energy</span>
        </div>
    </div>

    <!-- Game Over screen -->
    <div id="gameOverScreen" class="hidden">
        <div class="gameover-content">
            <p class="gameover-quote">"The maze consumed you."</p>
            <p class="gameover-reason" id="gameOverReason">Your energy faded into the walls.</p>
            <div class="gameover-stats">
                <span>You made <strong id="goMoves">0</strong> moves</span>
            </div>

            <!-- Leaderboard -->
            <div class="leaderboard">
                <h3 class="leaderboard-title">Leaderboard</h3>
                <div class="leaderboard-entry">
                    <span class="leaderboard-rank">1</span>
                    <span class="leaderboard-name">Ashin</span>
                    <span class="leaderboard-moves">33 moves</span>
                    <span class="leaderboard-time">1:20</span>
                </div>
            </div>

            <button id="retryBtn">Try Again</button>
        </div>
    </div>

    <!-- Win screen -->
    <div id="winScreen" class="hidden">
        <div class="win-content">
            <p class="win-quote quote-1">"You didn't see the maze."</p>
            <p class="win-quote quote-2">"You became aware of it."</p>
            <div class="stats">
                <div class="stat stat-1"><span class="stat-label">Moves</span><span class="stat-value"
                        id="statMoves">0</span></div>
                <div class="stat stat-2"><span class="stat-label">Collisions</span><span class="stat-value"
                        id="statCollisions">0</span></div>
                <div class="stat stat-3"><span class="stat-label">Time</span><span class="stat-value"
                        id="statTime">0:00</span></div>
            </div>

            <!-- Leaderboard -->
            <div class="leaderboard">
                <h3 class="leaderboard-title">Leaderboard</h3>
                <div class="leaderboard-entry">
                    <span class="leaderboard-rank">1</span>
                    <span class="leaderboard-name">Ashin</span>
                    <span class="leaderboard-moves">33 moves</span>
                    <span class="leaderboard-time">1:20</span>
                </div>
            </div>

            <button id="restartBtn">Enter Again</button>
        </div>
    </div>

    <!-- Instructions (fades out) -->
    <div id="instructions">
        <p class="desktop-hint">Arrow keys or WASD to navigate</p>
        <p class="mobile-hint">Use the controls below to navigate</p>
        <p class="subtle">The origin pulses behind you. The exit beckons ahead.</p>
    </div>

    <!-- Mobile Touch Controls -->
    <div id="mobileControls">
        <button class="control-btn" id="btnUp" aria-label="Move Up">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 19V5M5 12l7-7 7 7" />
            </svg>
        </button>
        <div class="control-row">
            <button class="control-btn" id="btnLeft" aria-label="Move Left">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5M12 5l-7 7 7 7" />
                </svg>
            </button>
            <div class="control-center"></div>
            <button class="control-btn" id="btnRight" aria-label="Move Right">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M5 12h14M12 5l7 7-7 7" />
                </svg>
            </button>
        </div>
        <button class="control-btn" id="btnDown" aria-label="Move Down">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 5v14M5 12l7 7 7-7" />
            </svg>
        </button>
    </div>

    <script type="module" src="js/main.js"></script>
</body>

</html>